25-01-17.18:51:26.159 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 18440 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.18:51:26.160 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.18:51:26.969 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.18:51:26.971 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.18:51:27.014 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
25-01-17.18:51:28.849 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.18:51:29.358 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.18:51:29.602 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.18:51:31.572 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.18:51:31.626 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.857 seconds (JVM running for 6.564)
25-01-17.18:51:32.072 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.18:51:33.217 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.18:51:33.453 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.18:51:33.453 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.18:51:33.458 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.18:51:34.299 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.18:56:22.748 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 10536 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.18:56:22.749 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.18:56:23.453 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.18:56:23.458 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.18:56:23.496 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
25-01-17.18:56:25.184 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.18:56:25.611 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.18:56:25.864 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.18:56:27.751 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.18:56:27.809 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.39 seconds (JVM running for 6.018)
25-01-17.18:56:28.228 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.18:56:28.803 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.18:56:28.943 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.18:56:28.944 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.18:56:28.949 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.18:56:29.293 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.18:58:55.485 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 9328 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.18:58:55.485 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.18:58:56.204 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.18:58:56.206 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.18:58:56.241 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
25-01-17.18:58:57.861 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.18:58:58.249 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.18:58:58.511 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.18:59:00.524 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.18:59:00.579 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.411 seconds (JVM running for 6.024)
25-01-17.18:59:00.969 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.18:59:01.555 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.18:59:01.945 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.18:59:01.945 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.18:59:01.951 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.18:59:02.348 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:02:06.083 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 12468 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:02:06.084 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:02:06.804 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:02:06.806 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:02:06.844 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
25-01-17.19:02:08.507 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:02:08.873 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:02:09.136 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:02:11.051 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:02:11.105 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.344 seconds (JVM running for 5.975)
25-01-17.19:02:11.520 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:02:12.355 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:02:12.504 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:02:12.504 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:02:12.510 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:02:12.897 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:15:44.434 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 7096 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:15:44.435 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:15:45.238 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:15:45.240 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:15:45.281 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
25-01-17.19:15:47.065 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:15:47.464 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:15:47.940 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:15:49.878 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:15:49.938 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.852 seconds (JVM running for 6.581)
25-01-17.19:15:50.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:15:50.431 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:15:51.105 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:15:51.246 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:15:51.246 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:15:51.253 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:15:51.914 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:18:41.468 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 10052 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:18:41.469 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:18:42.318 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:18:42.323 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:18:42.373 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
25-01-17.19:18:44.347 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:18:44.761 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:18:45.000 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:18:48.251 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:18:48.340 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 7.25 seconds (JVM running for 8.599)
25-01-17.19:18:51.271 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:18:57.226 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:18:59.182 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:18:59.399 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:18:59.399 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:19:07.583 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:19:22.504 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:19:23.031 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:20:22.048 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 19904 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:20:22.049 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:20:22.787 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:20:22.791 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:20:22.831 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
25-01-17.19:20:24.504 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:20:24.852 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:20:25.097 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:20:27.106 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:20:27.165 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.446 seconds (JVM running for 6.095)
25-01-17.19:20:27.578 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:20:28.152 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:20:28.297 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:20:28.297 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:20:28.305 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:20:28.930 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:22:00.814 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 3364 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:22:00.815 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:22:01.601 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:22:01.602 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:22:01.643 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
25-01-17.19:22:03.584 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:22:03.982 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:22:04.229 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:22:06.923 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:22:07.019 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 6.625 seconds (JVM running for 7.346)
25-01-17.19:22:09.168 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:22:09.981 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:22:10.000 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:22:10.123 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:22:10.124 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:22:26.734 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:22:32.994 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:22:33.390 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:22:36.779 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:22:41.425 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:22:55.860 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:22:55.894 [scheduling-1    ] ERROR TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.InterruptedException; nested exception is org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:52)
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:35)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.redisson.spring.data.connection.RedissonConnectionFactory.translateExceptionIfPossible(RedissonConnectionFactory.java:91)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.bugstack.infrastructure.repository.StrategyRepository$$EnhancerBySpringCGLIB$$e0b08970.takeQueueValue(<generated>)
	at cn.bugstack.domain.strategy.service.raffle.DefaultRaffleStrategy.takeQueueValue(DefaultRaffleStrategy.java:60)
	at cn.bugstack.trigger.job.UpdateAwardStockJob.exec(UpdateAwardStockJob.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:114)
	at org.redisson.RedissonObject.get(RedissonObject.java:90)
	at org.redisson.RedissonQueue.poll(RedissonQueue.java:105)
	at cn.bugstack.infrastructure.repository.StrategyRepository.takeQueueValue(StrategyRepository.java:304)
	at cn.bugstack.infrastructure.repository.StrategyRepository$$FastClassBySpringCGLIB$$ac5a32d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 18 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:386)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:110)
	... 27 common frames omitted
25-01-17.19:28:54.634 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 17776 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:28:54.635 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:28:55.381 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:28:55.384 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:28:55.426 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
25-01-17.19:28:57.227 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:28:57.590 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:28:57.852 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:28:59.779 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:28:59.839 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.536 seconds (JVM running for 6.179)
25-01-17.19:29:00.002 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:29:00.288 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:29:00.944 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:29:01.086 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:29:01.086 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:29:01.094 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:29:02.729 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:30:01.681 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 15744 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:30:01.682 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:30:02.418 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:30:02.420 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:30:02.461 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
25-01-17.19:30:04.169 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:30:04.512 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:30:04.786 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:30:06.950 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:30:07.014 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.665 seconds (JVM running for 6.347)
25-01-17.19:30:07.452 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:30:08.219 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:30:08.374 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:30:08.374 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:30:08.380 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:30:08.806 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:30:30.726 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 17456 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:30:30.728 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:30:31.509 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:30:31.511 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:30:31.559 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
25-01-17.19:30:33.530 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:30:33.934 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:30:34.185 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:30:36.903 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:30:36.969 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 6.66 seconds (JVM running for 7.504)
25-01-17.19:30:43.544 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:30:43.603 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:30:44.313 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:30:44.461 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:30:44.461 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:31:14.733 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:34:01.775 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=2m47s41ms956µs400ns).
25-01-17.19:34:01.824 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:34:02.654 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:34:05.795 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:35:24.543 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m21s785ms318µs700ns).
25-01-17.19:35:24.543 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=1m22s774ms857µs400ns).
25-01-17.19:35:24.543 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:35:24.602 [scheduling-1    ] ERROR TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: java.lang.InterruptedException; nested exception is org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:52)
	at org.redisson.spring.data.connection.RedissonExceptionConverter.convert(RedissonExceptionConverter.java:35)
	at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44)
	at org.redisson.spring.data.connection.RedissonConnectionFactory.translateExceptionIfPossible(RedissonConnectionFactory.java:91)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.bugstack.infrastructure.repository.StrategyRepository$$EnhancerBySpringCGLIB$$60c94b10.takeQueueValue(<generated>)
	at cn.bugstack.domain.strategy.service.raffle.DefaultRaffleStrategy.takeQueueValue(DefaultRaffleStrategy.java:60)
	at cn.bugstack.trigger.job.UpdateAwardStockJob.exec(UpdateAwardStockJob.java:29)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.redisson.client.RedisException: java.lang.InterruptedException
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:114)
	at org.redisson.RedissonObject.get(RedissonObject.java:90)
	at org.redisson.RedissonQueue.poll(RedissonQueue.java:105)
	at cn.bugstack.infrastructure.repository.StrategyRepository.takeQueueValue(StrategyRepository.java:304)
	at cn.bugstack.infrastructure.repository.StrategyRepository$$FastClassBySpringCGLIB$$ac5a32d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 18 common frames omitted
Caused by: java.lang.InterruptedException: null
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:386)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at org.redisson.command.CommandAsyncService.get(CommandAsyncService.java:110)
	... 27 common frames omitted
25-01-17.19:38:21.939 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 13860 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:38:21.940 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:38:22.690 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:38:22.695 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:38:22.737 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
25-01-17.19:38:24.443 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:38:24.861 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:38:25.208 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:38:27.364 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:38:27.413 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.822 seconds (JVM running for 6.46)
25-01-17.19:38:27.851 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:38:28.967 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:38:29.117 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:38:29.117 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:38:29.123 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:38:29.527 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:39:08.544 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 5444 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:39:08.544 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:39:09.310 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:39:09.312 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:39:09.354 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
25-01-17.19:39:11.202 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:39:11.599 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:39:11.852 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:39:14.517 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:39:14.598 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 6.41 seconds (JVM running for 7.141)
25-01-17.19:39:21.577 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:39:21.632 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:39:22.225 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:39:22.365 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:39:22.366 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:39:23.589 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:39:24.074 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:39:24.234 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [D:\Code\IDEA_work\xfg-project\big_market\big-market-app\target\classes\mybatis\mapper\IRaffleActivityOrderMapper.xml]
### The error may involve cn.bugstack.infrastructure.persistent.dao.IRaffleActivityOrderDao.insertRaffleActivityOrder-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001(user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, total_count, month_count, day_count, state, out_business_no, create_time, update_time)         values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy109.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy131.insertRaffleActivityOrder(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy132.insertRaffleActivityOrder(Unknown Source)
	at cn.bugstack.infrastructure.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:133)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.bugstack.infrastructure.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:130)
	at cn.bugstack.infrastructure.repository.ActivityRepository$$FastClassBySpringCGLIB$$51081fc9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.bugstack.infrastructure.repository.ActivityRepository$$EnhancerBySpringCGLIB$$24530ba2.doSaveOrder(<generated>)
	at cn.bugstack.domain.activity.service.RaffleActivityService.doSaveOrder(RaffleActivityService.java:59)
	at cn.bugstack.domain.activity.service.AbstractRaffleActivity.createSkuRechargeOrder(AbstractRaffleActivity.java:67)
	at cn.bugstack.test.domain.activity.RaffleOrderTest.test_createSkuRechargeOrder(RaffleOrderTest.java:46)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy207.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 62 common frames omitted
25-01-17.19:39:33.152 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 7408 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:39:33.152 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:39:33.853 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:39:33.856 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:39:33.894 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
25-01-17.19:39:35.472 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:39:35.908 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:39:36.207 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:39:38.095 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:39:38.149 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.309 seconds (JVM running for 5.958)
25-01-17.19:39:38.543 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:39:39.510 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:39:39.704 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:39:39.704 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:39:39.715 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:39:40.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:39:40.213 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:39:40.346 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [D:\Code\IDEA_work\xfg-project\big_market\big-market-app\target\classes\mybatis\mapper\IRaffleActivityOrderMapper.xml]
### The error may involve cn.bugstack.infrastructure.persistent.dao.IRaffleActivityOrderDao.insertRaffleActivityOrder-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001(user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, total_count, month_count, day_count, state, out_business_no, create_time, update_time)         values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy109.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy131.insertRaffleActivityOrder(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy132.insertRaffleActivityOrder(Unknown Source)
	at cn.bugstack.infrastructure.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:133)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.bugstack.infrastructure.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:130)
	at cn.bugstack.infrastructure.repository.ActivityRepository$$FastClassBySpringCGLIB$$51081fc9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.bugstack.infrastructure.repository.ActivityRepository$$EnhancerBySpringCGLIB$$5502452c.doSaveOrder(<generated>)
	at cn.bugstack.domain.activity.service.RaffleActivityService.doSaveOrder(RaffleActivityService.java:59)
	at cn.bugstack.domain.activity.service.AbstractRaffleActivity.createSkuRechargeOrder(AbstractRaffleActivity.java:67)
	at cn.bugstack.test.domain.activity.RaffleOrderTest.test_createSkuRechargeOrder(RaffleOrderTest.java:46)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009111' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy207.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 62 common frames omitted
25-01-17.19:39:41.004 [main            ] INFO  AbstractRaffleActivity - 查询结果：{"activityCountId":11101,"activityId":100301,"sku":9011,"stockCount":0,"stockCountSurplus":0} {"activityDesc":"测试活动","activityId":100301,"activityName":"测试活动","beginDateTime":1709979310000,"endDateTime":2025512110000,"state":"create","strategyId":100006} {"activityCountId":11101,"dayCount":1,"monthCount":1,"totalCount":1}
25-01-17.19:39:41.008 [main            ] INFO  RaffleOrderTest        - 测试结果：{}
25-01-17.19:40:56.790 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 15224 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:40:56.792 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:40:57.502 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:40:57.504 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:40:57.546 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
25-01-17.19:40:59.103 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:40:59.459 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:40:59.728 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:41:01.825 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:41:01.887 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.425 seconds (JVM running for 6.079)
25-01-17.19:41:02.310 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:41:03.202 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:41:03.356 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:41:03.357 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:41:03.364 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:41:04.759 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:41:05.014 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:41:05.062 [main            ] INFO  RaffleOrderTest        - 测试结果：761029309821
25-01-17.19:41:15.654 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 25280 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:41:15.655 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:41:16.395 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:41:16.402 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:41:16.441 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
25-01-17.19:41:18.073 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:41:18.439 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:41:18.687 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:41:20.655 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:41:20.712 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.371 seconds (JVM running for 6.047)
25-01-17.19:41:21.124 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:41:21.670 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:41:21.805 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:41:21.805 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:41:21.812 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:41:22.470 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:41:22.603 [main            ] ERROR ActivityRepository     - 写入订单记录，唯一索引冲突 userId: xiaofuge activityId: 100301 sku: 9011
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009112' for key 'raffle_activity_order_001.uq_out_business_no'
### The error may exist in file [D:\Code\IDEA_work\xfg-project\big_market\big-market-app\target\classes\mybatis\mapper\IRaffleActivityOrderMapper.xml]
### The error may involve cn.bugstack.infrastructure.persistent.dao.IRaffleActivityOrderDao.insertRaffleActivityOrder-Inline
### The error occurred while setting parameters
### SQL: insert into raffle_activity_order_001(user_id, sku, activity_id, activity_name, strategy_id, order_id, order_time, total_count, month_count, day_count, state, out_business_no, create_time, update_time)         values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, now(), now())
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009112' for key 'raffle_activity_order_001.uq_out_business_no'
; Duplicate entry '700091009112' for key 'raffle_activity_order_001.uq_out_business_no'; nested exception is java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009112' for key 'raffle_activity_order_001.uq_out_business_no'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy109.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy131.insertRaffleActivityOrder(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy132.insertRaffleActivityOrder(Unknown Source)
	at cn.bugstack.infrastructure.repository.ActivityRepository.lambda$doSaveOrder$0(ActivityRepository.java:133)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at cn.bugstack.infrastructure.repository.ActivityRepository.doSaveOrder(ActivityRepository.java:130)
	at cn.bugstack.infrastructure.repository.ActivityRepository$$FastClassBySpringCGLIB$$51081fc9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at cn.bugstack.infrastructure.repository.ActivityRepository$$EnhancerBySpringCGLIB$$b18ac345.doSaveOrder(<generated>)
	at cn.bugstack.domain.activity.service.RaffleActivityService.doSaveOrder(RaffleActivityService.java:59)
	at cn.bugstack.domain.activity.service.AbstractRaffleActivity.createSkuRechargeOrder(AbstractRaffleActivity.java:67)
	at cn.bugstack.test.domain.activity.RaffleOrderTest.test_createSkuRechargeOrder(RaffleOrderTest.java:46)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '700091009112' for key 'raffle_activity_order_001.uq_out_business_no'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy207.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 62 common frames omitted
25-01-17.19:42:54.997 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 12624 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:42:54.998 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:42:55.695 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:42:55.701 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:42:55.741 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
25-01-17.19:42:57.352 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:42:57.707 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:42:57.948 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:42:59.935 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:42:59.995 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.317 seconds (JVM running for 5.939)
25-01-17.19:43:00.016 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:43:00.429 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:43:01.332 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:43:01.465 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:43:01.465 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:43:01.472 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:43:01.880 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:43:02.195 [main            ] INFO  RaffleOrderTest        - 测试结果：604141885182
25-01-17.19:48:05.091 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 14776 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:48:05.091 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:48:05.794 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:48:05.796 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:48:05.832 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
25-01-17.19:48:07.491 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:48:07.836 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:48:08.346 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:48:10.374 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:48:10.438 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.671 seconds (JVM running for 6.309)
25-01-17.19:48:10.855 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:48:11.453 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:48:11.598 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:48:11.598 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:48:11.604 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:48:11.964 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:48:12.247 [main            ] INFO  RaffleOrderTest        - 测试结果：087039070106
25-01-17.19:49:18.035 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 4512 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:49:18.035 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:49:18.728 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:49:18.730 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:49:18.767 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
25-01-17.19:49:20.357 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:49:20.743 [redisson-netty-2-6] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:49:20.984 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:49:22.908 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:49:22.957 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.247 seconds (JVM running for 5.903)
25-01-17.19:49:23.361 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:49:25.010 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:49:25.215 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:49:25.358 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:49:25.358 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:49:25.364 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:49:25.689 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:49:25.946 [main            ] INFO  RaffleOrderTest        - 测试结果：355385159621
25-01-17.19:49:45.285 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 12760 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:49:45.285 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:49:46.043 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:49:46.045 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:49:46.086 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
25-01-17.19:49:48.020 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:49:48.408 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:49:48.661 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:49:51.057 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:49:51.132 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 6.222 seconds (JVM running for 6.936)
25-01-17.19:49:55.558 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:49:55.611 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:49:56.269 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:49:56.410 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:49:56.410 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:50:04.625 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:50:04.631 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:50:04.995 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:50:05.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:50:49.287 [Retail_HikariCP housekeeper] WARN  HikariPool             - Retail_HikariCP - Thread starvation or clock leap detected (housekeeper delta=52s914ms904µs300ns).
25-01-17.19:50:49.287 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
25-01-17.19:51:31.227 [main            ] INFO  RaffleOrderTest        - Starting RaffleOrderTest using Java 20.0.2 on DESKTOP-OTV51L3 with PID 6660 (started by GBB in D:\Code\IDEA_work\xfg-project\big_market\big-market-app)
25-01-17.19:51:31.227 [main            ] INFO  RaffleOrderTest        - The following 1 profile is active: "dev"
25-01-17.19:51:31.939 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
25-01-17.19:51:31.940 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
25-01-17.19:51:31.977 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
25-01-17.19:51:33.609 [main            ] INFO  Version                - Redisson 3.23.4
25-01-17.19:51:33.980 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:51:34.235 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 117.72.124.103/117.72.124.103:16379
25-01-17.19:51:36.172 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
25-01-17.19:51:36.237 [main            ] INFO  RaffleOrderTest        - Started RaffleOrderTest in 5.334 seconds (JVM running for 5.976)
25-01-17.19:51:36.675 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:51:37.253 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:51:37.402 [main            ] INFO  ActivityBaseActionChain - 活动责任链-基础信息【有效期、状态】校验开始。
25-01-17.19:51:37.403 [main            ] INFO  ActivitySkuStockActionChain - 活动责任链-商品库存处理【校验&扣减】开始。
25-01-17.19:51:37.408 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Starting...
25-01-17.19:51:37.768 [main            ] INFO  HikariDataSource       - Retail_HikariCP - Start completed.
25-01-17.19:51:38.046 [main            ] INFO  RaffleOrderTest        - 测试结果：915115069801
